{% extends "base.html" %}
{% block content %}
    <!-- Nav Tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" href="#listTab" data-toggle="tab">Public IP List</a>
        </li>
        <li class="nav-item"> 
            <a class="nav-link" href="#formTab" data-toggle="tab">Public IP Form</a>
        </li>
    </ul>
    <div class="tab-content">

        <!-- Display the form  -->
        <!-- <div class="content-section"> -->
        <div class="container tab-pane active table-responsive" id="listTab">

            <h3>Public IP List</h3>
            <table id="public_ips_Table" class="table table-striped table-bordered dt-responsive responsive" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th></th>
                        <th>Edit</th>
                        <th>_key</th>
                        <th>_user</th>
                        <th>ID</th>
                        <th>IP Address</th>
                        <th>VRF</th>
                        <th>College/Dept/Group</th>
                        <th>Vulnerability</th>
                        <th>Contact Info</th>
                        <th>Contacted</th>
                        <th>Tenable Agent</th>
                        <th>Comments</th>
                        <th>DNS_concat</th>
                        <th>OS_concat</th>
                        <th>Description</th>
                        <th>DistinguishedName</th>
                        <th>EMailID</th>
                        <th>Model</th>
                        <th>OU</th>
                        <th>UserName</th>
                        <!-- <th>Status</th> -->
                        <th>hostname</th>
                    </tr>
                </thead>
            </table>
        </div>

        <div class="container tab-pane fade table-responsive" id="formTab">
            <form method="POST" action="">
                {{ form.hidden_tag() }}

                <fieldset class="form-group">
                    <div class="form-row">
                        <legend class="border-bottom mb-4">Add Public IP to Splunk List</legend>

                        <div class="form-group col-auto">
                            {{ form.public_ip_input.label(class="form-control-label") }}

                            {% if form.public_ip_input.errors %}
                                {{ form.public_ip_input(class="form-control  is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.public_ip_input.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.public_ip_input(class="form-control ") }}
                            {% endif %}
                        </div>
                        <div class="form-group col-auto">
                            {{ form.group.label(class="form-control-label") }}

                            {% if form.group.errors %}
                                {{ form.group(class="form-control  is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.group.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.group(class="form-control ") }}
                            {% endif %}

                        </div>
                        <div class="form-group col-auto">
                            {{ form.contact_info.label(class="form-control-label") }}

                            {% if form.contact_info.errors %}
                                {{ form.contact_info(class="form-control  is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.contact_info.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.contact_info(class="form-control ") }}
                            {% endif %}

                        </div>

                    </div>
                    <div class="form-row">
                        <div class="form-group col-auto">
                            {{ form.contacted_input.label(class="form-control-label") }}

                            {% if form.contacted_input.errors %}
                                {{ form.contacted_input(class="form-control  is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.contacted_input.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.contacted_input(class="form-control ") }}
                            {% endif %}

                        </div>
                        <div class="form-group col-auto">
                            {{ form.tenable_input.label(class="form-control-label") }}

                            {% if form.tenable_input.errors %}
                                {{ form.tenable_input(class="form-control  is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.tenable_input.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.tenable_input(class="form-control ") }}
                            {% endif %}

                        </div>

                        <div class="form-group col-auto">
                            {{ form.vuln.label(class="form-control-label") }}

                            {% if form.vuln.errors %}
                                {{ form.vuln(class="form-control  is-invalid") }}
                                <div class="invalid-feedback">
                                    {% for error in form.vuln.errors %}
                                        <span>{{ error }}</span>
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.vuln(class="form-control ") }}
                            {% endif %}

                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.comments.label(class="form-control-label") }}

                        {% if form.comments.errors %}
                            {{ form.comments(class="form-control  is-invalid") }}
                            <div class="invalid-feedback">
                                {% for error in form.comments.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.comments(class="form-control ") }}
                        {% endif %}
                    </div>
                </fieldset>

                <div class="form-group">
                    {{ form.submit(class="btn btn-outline-info") }}
                </div>

            </form>
        </div>
        <!-- </div> -->
    </div>

    <!-- dynamic modal skeleton -->
    <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Edit/Remove</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                </div>
            </div>
        </div>
    </div>

    <!-- add external js script to make it more streamlined -->
    <script type="text/javascript" src="/static/js_stuff/public_ips.js"></script>

    <br><br><br><br>
</div>  
{% endblock content %}